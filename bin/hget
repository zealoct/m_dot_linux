#!/bin/env python

import os
import sys

MODULES = {
    'aidrv' : 'yf-inf-fpga-spark00.yf01:/home/hanjinchen/icode/baidu/fpga-ai/driver/output',
    'aiapi' : 'cp01-rdqa04-dev147.cp01:/home/users/hanjinchen/icode/baidu/fpga-ai/api/output',
    'deploytools' : 'cp01-rdqa04-dev147.cp01:/home/users/hanjinchen/icode/baidu/fpga-ai/deploy-tools/output',
}
PRODUCTS = {
    'fpga-ai/driver' : 'wget -r -nH --level=0 --cut-dirs=7 getprod@product.scm.baidu.com:/data/prod-64/baidu/fpga-ai/driver/driver_3-3-1-1_PD_BL/ --user getprod --password getprod --preserve-permissions',
    'fpga-ai/api' : 'wget -r -nH --level=0 --cut-dirs=7 getprod@product.scm.baidu.com:/data/prod-64/baidu/fpga-ai/api/api_5-0-1-1_PD_BL/  --user getprod --password getprod --preserve-permissions',
    'fpga-lego/fpga' : 'wget -r -nH --level=0 --cut-dirs=7 getprod@product.scm.baidu.com:/data/prod-64/baidu/fpga-lego/fpga/fpga_1-0-0-4_PD_BL/  --user getprod --password getprod --preserve-permissions',
}

def list_alias():
    print "%s %s" % ('ALIAS', 'HOSTNAME:DIR')
    for k, v in MODULES.items():
        print "%s = %s" % (k, v)
    print "%s %s" % ('PRODUCT', 'COMMAND')
    for k, v in PRODUCTS.items():
        print "%s : %s" % (k, v)

def get_module(key):
    if not MODULES.has_key(key):
        print "module alias '%s' does not exists" % (key)
        return
    os.system("scp -r %s ./"%(MODULES[key]))

if __name__ == '__main__':
    if len(sys.argv) < 2:
        list_alias()
    else:
        get_module(sys.argv[1])
